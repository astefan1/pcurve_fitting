% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/helpers.R
\name{get_cache_filename}
\alias{get_cache_filename}
\title{Generate a Sharded Cache Filename for a Single Condition}
\usage{
get_cache_filename(cond_row, base_dir, algo = "xxhash64")
}
\arguments{
\item{cond_row}{A one‐row \link{data.frame} whose contents will be hashed. All columns
of the row are serialized to influence the hash value.}

\item{base_dir}{A single string giving the base directory in which to create
the two‐level shard hierarchy.}

\item{algo}{A single string naming the hashing algorithm to use (passed
to \link[digest:digest]{digest::digest}). Defaults to \code{"xxhash64"}.}
}
\value{
A single string with the full file path (including the \code{.rds} extension)
where the cached result for the given condition should be written or read.
}
\description{
Computes a stable hash for a single-row data frame representing a condition,
and constructs a two-level directory shard under a specified base directory
to avoid placing too many files in one folder. Returns the full path
(including “.rds” extension) where the result for that condition should be stored.
}
\details{
\enumerate{
\item \strong{Stable hash}: The row is serialized in full so that changes in any
column yield a different hash.
\item \strong{Two‐level sharding}: The first four hex characters of the hash
(00–ff) are split into two pairs, creating subdirectories
\code{base_dir/shard1/shard2}.
\item \strong{Directory creation}: If the target shard directory does not exist,
it is created (with \code{recursive = TRUE}).
\item \strong{Filename}: The full filename is \code{hash_val.rds}, placed in the
shard directory.
}
}
